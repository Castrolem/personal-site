---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Main from "../../components/Main.astro";
import Tag from "../../components/Tag.astro";

const allPosts = await Astro.glob('../posts/*.md');
const tags = [...new Set(allPosts.map((post) => post.frontmatter.tags).flat())].filter(Boolean);
const pageTitle = "Tag Index";
---

<BaseLayout>
  <Main>
    <h1 class="font-serif text-3xl tracking-tight font-bold text-vanilla-950 dark:text-oxford-blue-50 leading-loose mb-4">{pageTitle}</h1>
    <div class="flex gap-2">
      {tags.map((tag) => (
        <a href={`/tags/${tag}`} rel="tag"><Tag>{tag}</Tag></a>
      ))}
    </div>
  </Main>
</BaseLayout>